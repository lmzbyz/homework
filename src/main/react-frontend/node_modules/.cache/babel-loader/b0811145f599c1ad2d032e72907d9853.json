{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\calismalar\\\\corona\\\\src\\\\main\\\\react-frontend\\\\src\\\\input.js\";\nimport React from 'react';\nimport service from \"./service\";\nimport Select from \"react-select\";\nimport BarChart from \"./BarChart\";\n\nclass InputForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCityChange = selectedOption => {\n      this.setState({\n        selectedOption\n      });\n      console.log(`Option selected:`, selectedOption.label);\n    };\n\n    this.handleDateChange = selectedDate => {\n      this.setState({\n        selectedDate\n      });\n      console.log(`Date selected:`, selectedDate.label);\n    };\n\n    this.state = {\n      value: '',\n      selectOptions: [],\n      name: '',\n      selectedOption: \"\",\n      dateOption: [],\n      selectedDate: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async componentDidMount(prevProps, prevState) {\n    console.log(\"INPUT WILL MOUNT GET ALL DATAS\");\n    await fetch(`http://localhost:8080/info/find-all`);\n    this.getOptions();\n  }\n\n  async getOptions() {\n    var data;\n    var options;\n    var dates;\n    var dateOpt;\n    service.getCityNames().then(response => {\n      // console.log(response)\n      data = response.data;\n      options = data.map(d => ({\n        \"label\": d\n      }));\n      this.setState({\n        selectOptions: options\n      });\n    });\n    service.getDates().then(response => {\n      dates = response.data;\n      dateOpt = dates.map(d => ({\n        \"label\": d\n      }));\n      this.setState({\n        dateOption: dateOpt\n      });\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  async handleSubmit(event) {\n    if (this.state.value == '') {\n      alert('BOŞ VERİ GİREMEZSİNİZ ' + this.state.value);\n      event.preventDefault();\n      return false;\n    }\n\n    alert('An input was submitted: ' + this.state.value);\n    event.preventDefault();\n    const news = {\n      \"text\": this.state.value\n    };\n    var data = new FormData();\n    data.append(\"json\", JSON.stringify(news));\n    await fetch('http://localhost:8080/info/post-news', {\n      mode: 'cors',\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: data\n    }); // await client.createInfo(news);\n\n    console.log((await service.createInfo(news)).status);\n    console.log(this.state.value);\n    this.setState({\n      value: \"\"\n    });\n    this.componentDidMount();\n  }\n\n  render() {\n    const {\n      selectedOption\n    } = this.state;\n    const {\n      selectedDate\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Haber :\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          value: this.state.value,\n          onChange: this.handleChange,\n          className: \"form-control\",\n          id: \"exampleFormControlTextarea1\",\n          rows: 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"G\\xF6nder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          options: this.state.selectOptions,\n          value: selectedOption,\n          onChange: this.handleCityChange,\n          placeholder: \"Şehir seçin...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          options: this.state.dateOption,\n          value: selectedDate,\n          onChange: this.handleDateChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BarChart, {\n        date: selectedDate.label,\n        location: selectedOption.label,\n        legendPosition: \"bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default InputForm;","map":{"version":3,"sources":["D:/calismalar/corona/src/main/react-frontend/src/input.js"],"names":["React","service","Select","BarChart","InputForm","Component","constructor","props","handleCityChange","selectedOption","setState","console","log","label","handleDateChange","selectedDate","state","value","selectOptions","name","dateOption","handleChange","bind","handleSubmit","componentDidMount","prevProps","prevState","fetch","getOptions","data","options","dates","dateOpt","getCityNames","then","response","map","d","getDates","event","target","alert","preventDefault","news","FormData","append","JSON","stringify","mode","method","headers","body","createInfo","status","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport service from \"./service\";\r\nimport Select from \"react-select\";\r\nimport BarChart from \"./BarChart\";\r\n\r\n\r\nclass InputForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: '',\r\n            selectOptions: [],\r\n            name: '',\r\n            selectedOption: \"\",\r\n            dateOption: [],\r\n            selectedDate: \"\"\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    }\r\n\r\n\r\n    async componentDidMount(prevProps, prevState) {\r\n        console.log(\"INPUT WILL MOUNT GET ALL DATAS\");\r\n        await fetch(`http://localhost:8080/info/find-all`);\r\n        this.getOptions();\r\n    }\r\n\r\n    async getOptions() {\r\n        var data;\r\n        var options;\r\n        var dates;\r\n        var dateOpt;\r\n\r\n        service.getCityNames().then(response => {\r\n            // console.log(response)\r\n            data = response.data;\r\n            options = data.map(d => ({\r\n                \"label\": d\r\n            }))\r\n            this.setState({selectOptions: options})\r\n        });\r\n\r\n        service.getDates().then(response => {\r\n            dates = response.data;\r\n            dateOpt = dates.map(d => ({\r\n                \"label\": d\r\n            }))\r\n            this.setState({dateOption: dateOpt})\r\n        })\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n\r\n    handleCityChange = selectedOption => {\r\n        this.setState({selectedOption},);\r\n        console.log(`Option selected:`, selectedOption.label);\r\n    };\r\n\r\n    handleDateChange = selectedDate => {\r\n        this.setState({selectedDate},);\r\n        console.log(`Date selected:`, selectedDate.label);\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        if (this.state.value == '') {\r\n            alert('BOŞ VERİ GİREMEZSİNİZ ' + this.state.value);\r\n            event.preventDefault();\r\n            return false;\r\n        }\r\n        alert('An input was submitted: ' + this.state.value);\r\n\r\n        event.preventDefault();\r\n\r\n        const news = {\"text\": this.state.value};\r\n        var data = new FormData();\r\n        data.append(\"json\", JSON.stringify(news));\r\n\r\n        await fetch('http://localhost:8080/info/post-news', {\r\n            mode: 'cors',\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: data,\r\n        });\r\n\r\n        // await client.createInfo(news);\r\n        console.log((await service.createInfo(news)).status)\r\n        console.log(this.state.value);\r\n\r\n        this.setState({value: \"\"});\r\n\r\n        this.componentDidMount();\r\n    }\r\n\r\n    render() {\r\n        const {selectedOption} = this.state;\r\n        const {selectedDate} = this.state;\r\n        return (\r\n            <form onSubmit={this.handleSubmit}>\r\n                <label>\r\n                    Haber :\r\n                    <textarea\r\n                        type=\"text\"\r\n                        value={this.state.value}\r\n                        onChange={this.handleChange}\r\n                        className=\"form-control\"\r\n                        id=\"exampleFormControlTextarea1\"\r\n                        rows={6}\r\n                    />\r\n                </label>\r\n                <input type=\"submit\" value=\"Gönder\"/>\r\n\r\n                <div>\r\n                    <Select options={this.state.selectOptions}\r\n                            value={selectedOption}\r\n                            onChange={this.handleCityChange}\r\n                            placeholder={\"Şehir seçin...\"}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <Select options={this.state.dateOption}\r\n                            value={selectedDate}\r\n                            onChange={this.handleDateChange}\r\n                    />\r\n                </div>\r\n                <BarChart date={selectedDate.label} location={selectedOption.label} legendPosition=\"bottom\"/>\r\n            </form>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default InputForm;"]},"metadata":{},"sourceType":"module"}